<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nawarathna Cool Engineering — Home</title>
  <meta name="description" content="Nawarathna Cool Engineering — AC installation, repair & maintenance. Fast quotes & WhatsApp ordering." />
  <link rel="icon" href="favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent-1:#0b69ff;
      --accent-2:#1c9cff;
      --accent-3:#ff7a59;
      --muted:#6b7280;
      --bg:#f0f7ff; /* Lighter, more vibrant background */
      --card:#ffffff;
      --wa:#25D366;
      --text-dark:#071433;
      --shadow-light: rgba(12,24,55,0.08);
      --shadow-medium: rgba(11,26,70,0.15);
      --gradient-main: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%); /* More vibrant gradient */
      --gradient-hero: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.4)); /* Darker overlay for hero text */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins', sans-serif; /* Changed font to Poppins for a modern look */
      background:var(--bg);
      color:var(--text-dark);
      -webkit-font-smoothing:antialiased;
      line-height:1.6;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:18px} /* Slightly wider container */

    /* Header */
    header{
      position:sticky;
      top:0;
      z-index:120;
      background:var(--gradient-main); /* Using new vibrant gradient */
      color:white;
      box-shadow:0 10px 30px var(--shadow-medium); /* Stronger shadow */
      padding: 10px 0; /* Added padding */
    }
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap: wrap; /* Allow wrapping on smaller screens */
    }
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:56px;width:56px;border-radius:10px;background:white;padding:8px;box-shadow:0 4px 15px rgba(0,0,0,0.2);} /* Larger logo, more rounded, shadow */
    .brand > div > div:first-child { font-weight: 700; font-size: 1.2em; } /* Brand name bolder, slightly larger */
    nav .nav-links{display:flex;gap:20px;align-items:center} /* Increased gap */
    nav .nav-links a{
      padding:10px 16px;
      border-radius:25px; /* More rounded links */
      color:white;
      font-weight:600;
      transition:background 0.3s ease, transform 0.2s ease;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }
    nav .nav-links a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.2);
      transition: left 0.3s ease;
      z-index: -1;
    }
    nav .nav-links a:hover::before {
      left: 0;
    }
    nav .nav-links a:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,0.1); /* Subtle background on hover */
    }
    .nav-toggle{display:none;background:transparent;border:0;color:white;font-size:26px;cursor:pointer;} /* Larger toggle icon */

    /* Preloader */
    .preloader{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--gradient-main); /* Matches header gradient */
      z-index:9999;
      color:white;
      flex-direction:column;
      font-family: 'Poppins', sans-serif;
    }
    .typing{font-weight:700;font-size:24px;margin-top:10px;} /* Larger typing text */
    .cursor{display:inline-block;width:12px;height:26px;background:rgba(255,255,255,0.9);margin-left:8px;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{opacity:0}}

    /* Hero */
    .hero{
      display:flex;
      gap:30px; /* Increased gap */
      align-items:center;
      padding:80px 18px; /* More vertical padding */
      background-image:url('background.png');
      background-size:cover;
      background-position:center;
      color:white;
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.5); /* Darker overlay for better text readability */
      z-index: 0;
    }
    .hero > * { z-index: 1; } /* Ensure content is above overlay */
    .hero .hero-wrap{
      flex:1;
      background:var(--gradient-hero); /* Darker gradient for text container */
      padding:30px; /* More padding */
      border-radius:18px; /* More rounded */
      box-shadow:0 15px 40px rgba(0,0,0,0.3); /* Stronger shadow */
      backdrop-filter: blur(5px); /* Added blur effect */
    }
    .hero h1{margin:0 0 12px;font-size:42px;line-height:1.2;font-weight:800;} /* Larger, bolder heading */
    .hero p{margin:0 0 16px;color:rgba(255,255,255,0.95);font-size:1.1em;} /* Slightly larger, clearer paragraph */
    .badges{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:20px} /* Increased gap and margin */
    .badge{
      background:rgba(255,255,255,0.2);
      padding:10px 18px; /* More padding */
      border-radius:999px;
      font-weight:700;
      border:1px solid rgba(255,255,255,0.3); /* Subtle border */
      backdrop-filter: blur(3px);
    }
    .quote-form{display:flex;gap:15px;flex-wrap:wrap;margin-top:15px} /* Increased gap and margin */
    .quote-form input, .quote-form select{
      padding:12px 18px; /* More padding */
      border-radius:10px;
      border:1px solid #ddd; /* Subtle border */
      min-width:180px; /* Wider inputs */
      flex:1 1 180px;
      font-family:'Poppins', sans-serif;
      box-shadow:0 4px 10px rgba(0,0,0,0.05);
      transition:all 0.3s ease;
    }
    .quote-form input:focus, .quote-form select:focus {
      outline: none;
      border-color: var(--accent-1);
      box-shadow: 0 0 0 3px rgba(11,105,255,0.2);
    }

    /* Buttons */
    .btn{
      background:var(--accent-3); /* Changed to accent-3 for contrast */
      color:white; /* Text color for new button color */
      padding:12px 24px; /* More padding */
      border-radius:10px;
      border:0;
      cursor:pointer;
      font-weight:700;
      box-shadow:0 10px 25px rgba(255,122,89,0.3); /* Shadow matching button color */
      transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
      font-family:'Poppins', sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .btn:hover{
      transform:translateY(-5px); /* More pronounced lift */
      box-shadow:0 15px 35px rgba(255,122,89,0.4); /* Stronger shadow on hover */
      background: #ff5e38; /* Slightly darker on hover */
    }

    /* Sections */
    section{padding:60px 18px;position: relative;} /* More vertical padding */
    h2{margin:0 0 25px;font-size:36px;font-weight:800;text-align:center;color:var(--accent-1);position: relative;} /* Larger, bolder, centered, accent color */
    h2::after {
      content: '';
      display: block;
      width: 60px;
      height: 4px;
      background: var(--accent-3);
      margin: 10px auto 0;
      border-radius: 2px;
    }
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:25px} /* Increased gap */
    .card{
      background:var(--card);
      padding:25px; /* More padding */
      border-radius:16px; /* More rounded */
      box-shadow:0 15px 40px var(--shadow-light); /* Stronger shadow */
      transition:transform .22s ease,box-shadow .22s ease;
      border-left: 5px solid transparent; /* Added left border for accent */
      border-image: linear-gradient(180deg, var(--accent-1), var(--accent-2)) 1;
    }
    .card:hover{
      transform:translateY(-8px); /* More pronounced lift */
      box-shadow:0 25px 50px var(--shadow-medium); /* Stronger shadow on hover */
    }

    /* icon inside card heading */
    .card h3{display:flex;align-items:center;gap:12px;margin-top:0;font-size:1.4em;color:var(--text-dark);} /* Larger heading, spacing */
    .card svg{width:28px;height:28px;flex-shrink:0;} /* Larger icons */
    .card p { font-size: 0.95em; color: var(--muted); } /* Muted paragraph text */

    /* Products */
    .products{display:flex;gap:20px;flex-wrap:wrap;justify-content:center;} /* Increased gap, center alignment */
    .product{
      background:var(--card);
      border-radius:14px; /* More rounded */
      padding:15px; /* More padding */
      flex:1 1 250px; /* Wider products */
      max-width:280px; /* Wider max */
      box-shadow:0 10px 25px var(--shadow-light);
      text-align: center;
      transition:transform .22s ease,box-shadow .22s ease;
    }
    .product:hover{
      transform: translateY(-5px);
      box-shadow:0 15px 35px var(--shadow-medium);
    }
    .product img{width:100%;height:180px;object-fit:cover;border-radius:10px;margin-bottom:10px;} /* Taller images, more rounded */
    .product h4{font-size:1.2em;margin:10px 0 5px;color:var(--text-dark);}
    .product .small{font-weight:700;color:var(--accent-3);font-size:1.1em;} /* Price in accent color, bolder */

    /* Process */
    .process{
      display:grid;
      grid-template-columns:repeat(3,1fr); /* 3 cards per line */
      gap:25px; /* Increased gap */
      justify-items: center; /* Center items within grid columns */
      max-width: 1000px; /* Max width to keep cards from getting too wide */
      margin: 0 auto; /* Center the grid itself */
    }
    .step{
      background:linear-gradient(180deg,#ffffff,#f9fcff);
      padding:25px; /* Increased padding */
      border-radius:18px; /* More rounded */
      text-align:center;
      box-shadow:0 10px 25px rgba(12,24,55,0.08); /* Stronger shadow */
      border:1px solid #eee;
      transition:all 0.3s ease;
      width: 100%; /* Ensure cards take full width of their grid column */
      max-width: 320px; /* Set a max-width for individual steps */
    }
    .step:hover {
      transform: translateY(-8px); /* More pronounced lift */
      box-shadow:0 15px 35px rgba(12,24,55,0.12); /* Stronger shadow on hover */
    }
    .step strong{
      display:block;
      background:linear-gradient(90deg,var(--accent-1),var(--accent-3)); /* Gradient for number */
      color:white;
      width:56px;height:56px; /* Larger number bubble */
      margin:0 auto 18px; /* More margin */
      border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      font-size:22px; /* Larger font size */
      font-weight:800;
      box-shadow:0 6px 18px rgba(0,0,0,0.2);
    }
    .step h4{font-size:1.5em;margin-top:0;margin-bottom:10px;color:var(--text-dark);} /* Larger heading */
    .step p{font-size:1em;color:var(--muted);} /* Slightly larger paragraph */

    /* Gallery */
    .gallery-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;} /* Responsive grid, increased gap */
    .gallery-grid img, .gallery-grid video{
      width:100%;
      height:160px; /* Taller items */
      object-fit:cover;
      border-radius:10px;
      box-shadow:0 5px 15px rgba(0,0,0,0.1);
      transition:transform 0.2s ease, box-shadow 0.2s ease;
    }
    .gallery-grid img:hover, .gallery-grid video:hover {
      transform: scale(1.03);
      box-shadow:0 8px 20px rgba(0,0,0,0.15);
    }

    /* Contact */
    .contact-grid{display:grid;grid-template-columns:1.2fr 1fr;gap:30px} /* Adjusted column ratio, increased gap */
    .contact-grid .card {
      border-left: none;
      border-bottom: 5px solid transparent;
      border-image: linear-gradient(90deg, var(--accent-1), var(--accent-3)) 1;
    }
    .contact-grid .card:hover {
      transform: translateY(-5px);
    }
    iframe{width:100%;height:280px;border:0;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.1);} /* Taller maps, more rounded, shadow */
    .contact-grid h4 { font-size: 1.3em; margin-bottom: 8px; color: var(--accent-1); }
    .contact-grid p { margin-bottom: 15px; color: var(--text-dark); }
    #waSuggest input, #waSuggest textarea {
      background: #f8f8f8;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    }
    #waSuggest button {
      background: var(--wa);
      box-shadow:0 10px 25px rgba(37,211,102,0.3);
    }
    #waSuggest button:hover {
      background: #1dae51;
      box-shadow:0 15px 35px rgba(37,211,102,0.4);
    }

    footer{
      background:#071433;
      color:white;
      padding:40px 18px; /* More padding */
      margin-top: 40px;
    }
    footer .container{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:25px; /* Increased gap */
      flex-wrap:wrap;
    }
    footer a{
      color:rgba(255,255,255,0.8);
      display:block;
      padding:8px 0; /* More padding */
      transition:color 0.2s ease;
    }
    footer a:hover{color:var(--accent-3);} /* Accent color on hover */
    footer div div:first-child{font-weight:800;font-size:1.1em;margin-bottom:10px;}
    footer div:nth-child(2) div:first-child,
    footer div:nth-child(3) div:first-child {
      font-weight:700;
      margin-bottom:12px;
      color:var(--accent-2); /* Accent color for headings */
    }
    footer .copyright, footer .developer-info {
      font-size: 0.9em;
      color: rgba(255,255,255,0.7);
      margin-top: 15px;
    }


    /* WhatsApp floating */
    .wa-float{
      position:fixed;
      right:25px;bottom:25px; /* More offset */
      width:70px;height:70px; /* Larger button */
      border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 10px 30px rgba(12,24,55,0.2); /* Stronger shadow */
      z-index:200;
      background:var(--wa); /* Solid WhatsApp color for container */
      transition:transform 0.2s ease, box-shadow 0.2s ease;
    }
    .wa-float:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow:0 15px 40px rgba(12,24,55,0.3);
    }
    .bubble{
      width:60px;height:60px; /* Bubble size adjusted */
      border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      color:white;
      background:linear-gradient(180deg,var(--wa),#1aa64f); /* Gradient inside bubble */
    }
    .wa-float svg { width: 30px; height: 30px; } /* Larger icon */

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(3,6,23,0.7);display:flex;align-items:center;justify-content:center;z-index:9998;opacity:0;pointer-events:none;transition:opacity .3s ease}
    .modal-backdrop.show{opacity:1;pointer-events:auto}
    .modal{
      background:white;
      border-radius:18px; /* More rounded */
      max-width:900px; /* Wider modal */
      width:94%;
      padding:30px; /* More padding */
      box-shadow:0 25px 70px rgba(3,6,23,0.4); /* Stronger shadow */
      transform: translateY(-20px);
      transition:transform 0.3s ease;
      /* Ensure modal content is scrollable if it overflows */
      max-height: 90vh;
      overflow-y: auto;
    }
    .modal-backdrop.show .modal {
      transform: translateY(0);
    }
    .modal .modal-head{display:flex;justify-content:space-between;align-items:center;gap:15px;margin-bottom:20px;flex-wrap: wrap;} /* Increased gap, allow wrap */
    .modal .modal-head h3{font-size:1.8em;margin:0;color:var(--accent-1);}
    .modal .modal-head .small{font-size:0.9em;color:var(--muted);}
    .modal .close{
      background:#f0f0f0;
      border:0;
      padding:10px 14px; /* More padding */
      border-radius:10px;
      cursor:pointer;
      font-weight: 600;
      transition:background 0.2s ease;
    }
    .modal .close:hover { background: #e0e0e0; }
    .modal .promo-grid{
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive grid for promo items */
      gap: 20px;
      justify-content: center;
    }
    .modal .promo-item{
      /* flex:1 1 200px; /* Wider promo items */
      /* max-width:220px; /* Wider max */
      background:#fcfdff;
      padding:15px; /* More padding */
      border-radius:12px;
      text-align:center;
      border:1px solid #eee;
      box-shadow:0 5px 15px rgba(0,0,0,0.05);
    }
    .modal .promo-item img{width:100%;height:130px;object-fit:cover;border-radius:8px;margin-bottom:8px;} /* Taller images */
    .modal .promo-item div:first-of-type{font-weight:700;margin-top:10px;font-size:1.1em;color:var(--text-dark);}
    .modal .promo-item .small{font-weight:700;color:var(--accent-3);font-size:1em;} /* Price in accent color, bolder */
    .modal .btn {
      background: var(--accent-1);
      box-shadow:0 10px 25px rgba(11,105,255,0.3);
    }
    .modal .btn:hover {
      background: #0959e0;
      box-shadow:0 15px 35px rgba(11,105,255,0.4);
    }

    /* coupon section */
    .modal .coupon-section {
      background: #f0f7ff;
      border-radius: 12px;
      padding: 20px;
      margin-top: 25px;
      text-align: center;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
      border: 1px dashed var(--accent-2);
    }
    .modal .coupon-section h4 {
      color: var(--accent-1);
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 1.4em;
    }
    .modal .coupon-section p {
      color: var(--text-dark);
      margin-bottom: 15px;
    }
    .modal .coupon-section input {
      width: 100%;
      padding: 10px 15px;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-family: 'Poppins', sans-serif;
    }
    .modal .coupon-section button {
      width: auto;
      margin: 0 auto;
      padding: 10px 20px;
    }


    /* Animations */
    .fade-up{opacity:0;transform:translateY(20px);transition:all .8s cubic-bezier(.2,.9,.2,1)} /* Slower, more pronounced fade-up */
    .fade-up.show{opacity:1;transform:none}

    /* Responsive */
    @media(max-width:1200px){
      .container { max-width: 96%; }
    }
    @media(max-width:1100px){
      .grid{grid-template-columns:repeat(2,1fr)}
      .gallery-grid{grid-template-columns:repeat(3,1fr)}
      .process{
        grid-template-columns:repeat(2,1fr); /* 2 cards per line on medium screens */
        max-width: 700px; /* Adjust max-width for 2 columns */
      }
      .modal{max-width:760px}
      .contact-grid{grid-template-columns:1fr} /* Stack contact grid */
    }
    @media(max-width:720px){
      h2{font-size:30px;}
      .nav .nav-links{
        display:none;
        position:fixed;
        left:0;right:0;
        top:76px; /* Adjust top based on header height */
        background:var(--gradient-main);
        flex-direction:column;
        padding:20px 12px;
        box-shadow:0 8px 20px rgba(0,0,0,0.2);
      }
      .nav .nav-links a { width: 100%; text-align: center; }
      .nav-toggle{display:block}
      .hero{padding:50px 14px;flex-direction:column;text-align:center;}
      .hero h1{font-size:36px;}
      .hero p{font-size:1em;}
      .badges{justify-content:center;}
      .process{
        grid-template-columns:1fr; /* 1 card per line on small screens */
        max-width: 400px; /* Adjust max-width for 1 column */
      }
      .grid{grid-template-columns:1fr}
      .gallery-grid{grid-template-columns:repeat(2,1fr)}
      .modal{width:96%;padding:20px}
      .modal .modal-head { flex-direction: column; text-align: center; align-items: center; }
      .modal .modal-head div:last-child { margin-top: 15px; }
      .modal .promo-grid{justify-content:center}
      .products {flex-direction: column; align-items: center;}
      .product { max-width: 90%; }
    }
    @media(max-width:480px){
      h2{font-size:26px;}
      .hero h1{font-size:30px;}
      .gallery-grid{grid-template-columns:1fr}
      footer .container { flex-direction: column; text-align: center; }
      footer .container > div { width: 100%; margin-bottom: 20px; }
      footer .container > div:last-child { margin-bottom: 0; }
      .modal .promo-grid { grid-template-columns: 1fr; } /* Stack promo items on smallest screens */
    }

    /* remove underline on all links globally (user requested) */
    a { text-decoration: none !important; }
  </style>
</head>
<body>
  <!-- PRELOADER -->
  <div id="preloader" class="preloader" role="status" aria-live="polite">
    <div style="text-align:center;max-width:420px;padding:12px">
      <div style="font-size:24px;font-weight:800;margin-bottom:10px">Limited Time — Free Inspection</div>
      <div class="typing" id="typingText">&nbsp;<span class="cursor"></span></div>
      <div style="height:15px"></div>
      <div style="font-size:14px;opacity:.9">Tap to continue or we'll show the site shortly.</div>
    </div>
  </div>
  <noscript><style>.preloader{display:none !important}</style></noscript>

  <!-- HEADER -->
  <header>
    <div class="container nav">
      <div class="brand">
        <a href="index.html"><img src="logo.png" alt="logo"></a>
        <div>
          <div style="font-weight:800">Nawarathna Cool Engineering</div>
          <div style="font-size:13px;opacity:.9">AC installation, repair & maintenance</div>
        </div>
      </div>

      <nav>
        <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">☰</button>
        <div class="nav-links" id="navLinks">
          <a href="#about">About Us</a>
          <a href="#services">Our Services</a>
          <a href="shop.html">Shop</a>
          <a href="#gallery">Gallery</a>
          <a href="#contact">Contact Us</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <main>
    <section class="hero">
      <div class="hero-wrap">
        <h1>Fast, reliable AC installations, repairs & maintenance</h1>
        <p>Trusted by homes and businesses across Sri Lanka. Get a fast quote via WhatsApp — no waiting.</p>
        <div class="badges">
          <div class="badge">5+ Years Experience</div>
          <div class="badge">Trusted Brands: LG, Hisense, Haier</div>
          <div class="badge">24/7 Emergency Support</div>
        </div>

        <form id="quickQuote" class="quote-form">
          <input id="q_name" placeholder="Your name" required>
          <input id="q_phone" placeholder="Phone (e.g. 94xxxxxxxxx)" required>
          <select id="q_service"><option>Installation</option><option>Repair</option><option>Maintenance</option><option>Parts</option></select>
          <button class="btn" type="submit">Send Quote</button>
        </form>
      </div>
      <div style="flex:1;min-height:220px"></div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="container">
        <h2>About Us</h2>
        <div class="card fade-up">
          <p><strong>Air Conditioning Specialists</strong></p>
          <p>Welcome to Nawarathna Cool Engineering PVT LTD, your trusted partner for all your HVAC needs. With 5 years of industry experience and a relentless commitment to excellence, we specialize in providing top-notch air conditioning and ventilation services. From installation and repair to maintenance and upgrades, our skilled technicians are dedicated to delivering reliable and efficient solutions tailored to your unique requirements. Our mission is to ensure your comfort and satisfaction, making your living or working environment as comfortable as possible.</p>
          <p>We proudly collaborate with world-renowned brands like LG, Hisense, and Haier to bring you durable, efficient systems and genuine parts.</p>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section id="services">
      <div class="container">
        <h2>Our Services</h2>
        <div class="grid">
          <div class="card fade-up"><h3><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18M3 12h18M3 18h18" stroke="#0b69ff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>High-Quality Parts & Components</h3><p>We source premium parts to ensure long-lasting performance and reliability for repairs and installations.</p></div>
          <div class="card fade-up"><h3><svg viewBox="0 0 24 24"><path d="M12 2l3 7h7l-5.5 4 2 7L12 16l-6.5 4 2-7L2 9h7l3-7z" fill="#ff7a59"/></svg>24/7 Emergency Services</h3><p>Our emergency team is ready to respond any time to restore comfort and safety quickly.</p></div>
          <div class="card fade-up"><h3><svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 100 20 10 10 0 000-20zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="#ffb020"/></svg>Satisfaction Guarantee</h3><p>We stand behind our workmanship — your satisfaction is our top priority.</p></div>
          <div class="card fade-up"><h3><svg viewBox="0 0 24 24"><path d="M4 7h16v2H4zM6 11h12v8H6z" fill="#0b69ff"/></svg>Expert Installation</h3><p>Certified technicians install systems correctly for optimal performance from day one.</p></div>
          <div class="card fade-up"><h3><svg viewBox="0 0 24 24"><path d="M12 2l3 7h7l-5.5 4 2 7L12 16l-6.5 4 2-7L2 9h7l3-7z" fill="#0b69ff"/></svg>Reliable Repairs</h3><p>Fast diagnosis and repairs using quality parts to minimize downtime and maintain comfort.</p></div>
          <div class="card fade-up"><h3><svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 100 20 10 10 0 000-20z" fill="#0b69ff"/></svg>Comprehensive Maintenance</h3><p>Planned maintenance helps prevent breakdowns, improves efficiency, and extends equipment lifespan.</p></div>
        </div>
      </div>
    </section>

    <!-- PROCESS (6 steps) -->
    <section id="process">
      <div class="container">
        <h2>From First Call to Cool Comfort — Our Process</h2>
        <div class="process">
          <div class="step fade-up"><strong>1</strong><h4>Consultation</h4><p>We listen to your needs, inspect the site and collect data to recommend the right system or repair approach.</p></div>
          <div class="step fade-up"><strong>2</strong><h4>Proposal & Quotation</h4><p>Clear proposal, transparent costs and timeline — no hidden fees. We offer options to match your budget.</p></div>
          <div class="step fade-up"><strong>3</strong><h4>Scheduling</h4><p>Once approved we schedule the job at a time that suits you and confirm arrival details.</p></div>
          <div class="step fade-up"><strong>4</strong><h4>Execution</h4><p>Professional installation or repair using safest practices and genuine parts. Clean, fast and efficient work.</p>.</p></div>
          <div class="step fade-up"><strong>5</strong><h4>Testing & Quality Check</h4><p>Comprehensive performance checks and settings to ensure the system is running optimally.</p></div>
          <div class="step fade-up"><strong>6</strong><h4>Follow-up & Support</h4><p>We follow up after service to ensure satisfaction and provide maintenance advice and warranty details.</p></div>
        </div>
      </div>
    </section>

    <!-- PRODUCTS -->
    <section id="products">
      <div class="container">
        <h2>Our Products</h2>
        <div class="products">
          <div class="product card fade-up"><img src="1.png" alt="1"><h4>Media 7000 BTU Non Inverter</h4><div class="small">LKR 125,000</div></div>
          <div class="product card fade-up"><img src="2.png" alt="2"><h4>Media 9000 BTU Non Inverter</h4><div class="small">LKR 165,000</div></div>
          <div class="product card fade-up"><img src="3.png" alt="3"><h4>Media 12000 BTU Non Inverter</h4><div class="small">LKR 175,000</div></div>
          <div class="product card fade-up"><img src="4.png" alt="4"><h4>Media 18000 BTU Non Inverter</h4><div class="small">LKR 225,000</div></div>
        </div>
        <div style="margin-top:25px; text-align: center;"><a class="btn" href="shop.html">More Products</a></div>
      </div>
    </section>

    <!-- WHY CHOOSE -->
    <section id="why">
      <div class="container">
        <h2>Why Choose Nawarathna Cool Engineering</h2>
        <div class="grid">
          <div class="card fade-up"><h4>Expert Technicians</h4><p>Our team of skilled professionals deliver reliable HVAC solutions.</p></div>
          <div class="card fade-up"><h4>Flexible Scheduling</h4><p>We work around your schedule to minimize disruption.</p></div>
          <div class="card fade-up"><h4>Transparent Pricing</h4><p>Clear, honest quotes with no hidden charges.</p></div>
          <div class="card fade-up"><h4>Quality Parts</h4><p>We use genuine parts to ensure durability and performance.</p></div>
          <div class="card fade-up"><h4>Emergency Services</h4><p>Rapid response when you need urgent repairs.</p></div>
          <div class="card fade-up"><h4>Satisfaction Guarantee</h4><p>We follow up to ensure you are fully satisfied with our work.</p></div>
        </div>
      </div>
    </section>

    <!-- HAPPY CUSTOMERS -->
    <section id="testimonials">
      <div class="container">
        <h2>Our Happy Customers</h2>
        <div class="grid">
          <div class="card fade-up">"Excellent service, fast response and professional technicians. Highly recommended."<div class="small muted">— Home Owner, Kottawa</div></div>
          <div class="card fade-up">"Installation was smooth and pricing was transparent. Great after-sales support."<div class="small muted">— Office Manager, Colombo</div></div>
          <div class="card fade-up">"Quick repair service during an emergency — saved us a lot of trouble."<div class="small muted">— Shop Owner, Pannipitiya</div></div>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery">
      <div class="container">
        <h2>Gallery</h2>
        <div class="gallery-grid">
          <img src="photo01.png" alt="photo01">
          <img src="photo02.png" alt="photo02">
          <img src="photo03.png" alt="photo03">
          <img src="photo04.png" alt="photo04">
          <img src="photo05.png" alt="photo05">
          <img src="photo06.png" alt="photo06">
          <img src="photo07.png" alt="photo07">
          <img src="photo08.png" alt="photo08">
          <img src="photo09.png" alt="photo09">
          <img src="photo10.png" alt="photo10">
          <video src="1.mp4" controls></video>
          <video src="2.mp4" controls></video>
          <video src="3.mp4" controls></video>
          <video src="4.mp4" controls></video>
          <video src="5.mp4" controls></video>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <div class="container">
        <h2>Contact Us</h2>
        <div class="contact-grid">
          <div>
            <div class="card">
              <h4>Pannipitiya Branch</h4>
              <p>202, Highlevel Road, Pannipitiya.</p>
              <h4>Kadawatha Branch</h4>
              <p>150A, Kandy Road, Mahara, Kadawatha.</p>

              <h4>Send a Message</h4>
              <p>nadun.navarathna@icloud.com</p>
              <h4>Call Us Directly</h4>
              <p>+94 757 077 777<br>+94 762 563 694</p>
              <p>Mon - Fri 08.00 - 18.00</p>

              <h4>Send suggestion / message via WhatsApp</h4>
              <form id="waSuggest">
                <input id="s_name" placeholder="Your name" required style="padding:10px;border-radius:8px;border:1px solid #eef;width:100%;margin-bottom:8px">
                <input id="s_phone" placeholder="Phone (94xxxxxxxxx)" style="padding:10px;border-radius:8px;border:1px solid #eef;width:100%;margin-bottom:8px">
                <textarea id="s_msg" placeholder="Your message" required style="padding:10px;border-radius:8px;border:1px solid #eef;width:100%;min-height:90px"></textarea>
                <div style="margin-top:8px"><button class="btn" type="submit">Send via WhatsApp</button></div>
              </form>
            </div>
          </div>
          <div>
            <div class="card">
              <h4>Our Branches on Map</h4>
              <iframe src="https://www.google.com/maps?q=202+Highlevel+Road+Pannipitiya&output=embed" loading="lazy"></iframe>
              <div style="height:12px"></div>
              <iframe src="https://www.google.com/maps?q=150A+Kandy+Road+Mahara+Kadawatha&output=embed" loading="lazy"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div>
        <div style="font-weight:900">Nawarathna Cool Engineering PVT LTD</div>
        <div style="opacity:.9;margin-top:8px">AC installation, repair & maintenance</div>
        <div class="copyright" style="margin-top:10px">&copy; <span id="yr"></span> Nawarathna Cool Engineering</div>
      </div>
      <div>
        <div style="font-weight:700;margin-bottom:6px">Quick Links</div>
        <a href="#about">About Us</a>
        <a href="#services">Our Services</a>
        <a href="shop.html">Shop</a>
        <a href="#gallery">Gallery</a>
        <a href="#contact">Contact Us</a>
      </div>
      <div>
        <div style="font-weight:700;margin-bottom:6px">Contact</div>
        <div>nadun.navarathna@icloud.com</div>
        <div style="margin-top:6px">+94 757 077 777<br>+94 762 563 694</div>
        <div class="developer-info" style="margin-top:8px">Development & Maintenance by Sahan Colombage - 070 315 0742</div>
      </div>
    </div>
  </footer>

  <!-- Modal markup -->
  <div id="promoBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="promoTitle">
      <div class="modal-head">
        <div>
          <h3 id="promoTitle">Special Promotion</h3>
          <div class="small muted">Limited time offers — top products</div>
        </div>
        <div style="display:flex;gap:10px;align-items:center;flex-wrap: wrap; justify-content: center;">
          <a class="btn" href="https://www.facebook.com/sharer/sharer.php?u=https://nawarathnacool.com" target="_blank" rel="noopener noreferrer" id="facebookShareBtn">Share on Facebook</a>
          <button class="close" id="closePromo" aria-label="Close promotion">Close</button>
        </div>
      </div>
      <p>Enjoy special discounts on these popular items. Click More Products to see the full shop.</p>
      <div class="promo-grid">
        <div class="promo-item"><img src="1.png" alt="p1"><div style="font-weight:700;margin-top:8px">Media 7000 BTU Non Inverter</div><div class="small">LKR 125,000</div></div>
        <div class="promo-item"><img src="2.png" alt="p2"><div style="font-weight:700;margin-top:8px">Media 9000 BTU Non Inverter</div><div class="small">LKR 165,000</div></div>
        <div class="promo-item"><img src="3.png" alt="p3"><div style="font-weight:700;margin-top:8px">Media 12000 BTU Non Inverter</div><div class="small">LKR 175,000</div></div>
        
      </div>
      <div class="coupon-section">
        <h4>Share on Facebook & Get 10% Off!</h4>
        <p>Share our page on Facebook to receive a 10% coupon code for your next service or purchase. Enter your Facebook share link below.</p>
        <input type="text" id="facebookShareLink" placeholder="Paste your Facebook share link here">
        <button class="btn" id="generateCouponBtn">Get Coupon Code</button>
        <p id="couponMessage" style="margin-top:15px; font-weight: 600; color: var(--accent-1);"></p>
      </div>
      <div style="margin-top:20px;text-align:center"><a class="btn" href="shop.html">More Products</a></div>
    </div>
  </div>

  <!-- WhatsApp floating button -->
  <a id="waFloat" class="wa-float" href="#" title="Chat with us on WhatsApp" aria-label="Chat on WhatsApp">
    <div class="bubble" aria-hidden="true">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M20.52 3.478A11.955 11.955 0 0012 0C5.373 0 .006 5.373.006 12c0 2.116.554 4.18 1.605 5.995L0 24l6.243-1.63A11.954 11.954 0 0012 24c6.627 0 12-5.373 12-12 0-3.205-1.248-6.205-3.48-8.522z" fill="#25D366"/>
        <path d="M17.472 14.382c-.297-.149-1.758-.868-2.03-.967-.273-.099-.472-.149-.672.149-.198.297-.768.966-.94 1.165-.173.198-.347.223-.644.075-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.058-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.149-.173.198-.297.298-.495.099-.198.05-.372-.025-.52-.075-.149-.672-1.612-.922-2.214-.242-.579-.487-.5-.672-.51l-.572-.01c-.198 0-.52.074-.793.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487 3.977 1.696 3.977 1.132 4.693 1.061.296-.05.96-.389 1.096-.767.134-.372.134-.69.094-.767-.04-.074-.297-.119-.595-.268z" fill="#fff"/>
      </svg>
    </div>
  </a>

  <script>
    (function(){
      // Defensive coding: wrap everything to avoid breaking page
      try{
        // dynamic year
        const yrEl = document.getElementById('yr'); if(yrEl) yrEl.textContent = new Date().getFullYear();

        // nav toggle
        const navToggle = document.getElementById('navToggle');
        const navLinks = document.getElementById('navLinks');
        if(navToggle && navLinks) navToggle.addEventListener('click', ()=>{
          navLinks.style.display = (navLinks.style.display==='flex') ? 'none' : 'flex';
        });
        // Close nav links when clicking outside on mobile
        document.addEventListener('click', function(event) {
          if (window.innerWidth <= 720 && navLinks.style.display === 'flex' && !navLinks.contains(event.target) && !navToggle.contains(event.target)) {
            navLinks.style.display = 'none';
          }
        });
        // Close nav links when a link is clicked
        navLinks.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => {
            if (window.innerWidth <= 720) {
              navLinks.style.display = 'none';
            }
          });
        });


        // preloader: click to remove + auto remove after short delay
        const pre = document.getElementById('preloader');
        if(pre){
          const removePreloader = () => {
            try {
              if (pre.parentNode) pre.parentNode.removeChild(pre);
              document.body.style.overflow = ''; // Restore scroll
            } catch (e) {
              console.error('Error removing preloader:', e);
            }
          };

          pre.addEventListener('click', removePreloader);

          // Prevent scrolling while preloader is active
          document.body.style.overflow = 'hidden';

          // Auto remove after 1.4 seconds
          setTimeout(removePreloader, 1400);
        }

        // typing animation (non-blocking)
        (function(){ const el=document.getElementById('typingText'); if(!el) return; const msgs=['Limited time: Free inspection','Discounts on installation','Contact us for fast quotes']; let mi=0,ci=0; function step(){ try{ const m=msgs[mi]; el.textContent = m.slice(0,ci) + ' '; ci++; if(ci>m.length){ ci=0; mi=(mi+1)%msgs.length; setTimeout(step,700); } else setTimeout(step,60); }catch(e){} } setTimeout(step,120); })();

        // WhatsApp handlers
        (function(){
          const WHA='94757077777';
          const qForm=document.getElementById('quickQuote');
          if(qForm) qForm.addEventListener('submit', function(e){
            e.preventDefault();
            const name=(document.getElementById('q_name')||{}).value||'';
            const phone=(document.getElementById('q_phone')||{}).value||'';
            const service=(document.getElementById('q_service')||{}).value||'';
            const msg='Fast quote request from '+name+'\nPhone: '+phone+'\nService: '+service;
            window.open('https://wa.me/'+WHA+'?text='+encodeURIComponent(msg),'_blank');
          });

          const sForm=document.getElementById('waSuggest');
          if(sForm) sForm.addEventListener('submit', function(e){
            e.preventDefault();
            const name=(document.getElementById('s_name')||{}).value||'';
            const phone=(document.getElementById('s_phone')||{}).value||'';
            const m=(document.getElementById('s_msg')||{}).value||'';
            const final='Suggestion from '+name+(phone?('\nPhone: '+phone):'')+'\n\n'+m;
            window.open('https://wa.me/'+WHA+'?text='+encodeURIComponent(final),'_blank');
          });

          const wa=document.getElementById('waFloat');
          if(wa) wa.addEventListener('click', function(e){
            e.preventDefault();
            window.open('https://wa.me/94757077777','_blank');
          });
        })();

        // reveal animations
        function reveal(){
          try{
            const items=document.querySelectorAll('.fade-up');
            if(!items.length) return;
            const io=new IntersectionObserver((entries)=>{
              entries.forEach(entry=>{
                if(entry.isIntersecting){
                  entry.target.classList.add('show');
                  io.unobserve(entry.target);
                }
              });
            },{threshold:0.12});
            items.forEach(i=>io.observe(i));
          }catch(e){}
        }
        setTimeout(reveal,900);

        // PROMO MODAL logic (robust)
        (function(){
          const backdrop = document.getElementById('promoBackdrop');
          const closeBtn = document.getElementById('closePromo');
          const facebookShareLinkInput = document.getElementById('facebookShareLink');
          const generateCouponBtn = document.getElementById('generateCouponBtn');
          const couponMessage = document.getElementById('couponMessage');
          const WHA = '94757077777'; // WhatsApp number

          if(!backdrop) return;
          let shown = false;
          let couponGenerated = false; // To prevent multiple coupon generations

          function showModal(){
            if(shown) return;
            shown = true;
            backdrop.classList.add('show');
            backdrop.setAttribute('aria-hidden','false');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
          }
          function hideModal(){
            try{
              backdrop.classList.remove('show');
              backdrop.setAttribute('aria-hidden','true');
              document.body.style.overflow = ''; // Restore scroll
              // Clear coupon message and input when modal is closed
              couponMessage.textContent = '';
              facebookShareLinkInput.value = '';
            }catch(e){}
          }

          closeBtn && closeBtn.addEventListener('click', hideModal);
          backdrop.addEventListener('click', function(e){ if(e.target === backdrop) hideModal(); });

          // Coupon generation logic
          if (generateCouponBtn) {
            generateCouponBtn.addEventListener('click', function() {
              const shareLink = facebookShareLinkInput.value.trim();
              if (shareLink && shareLink.includes('facebook.com') && !couponGenerated) {
                // Generate a simple coupon code (e.g., random string)
                const couponCode = 'SAVE' + Math.random().toString(36).substring(2, 8).toUpperCase();
                couponMessage.textContent = `Your 10% coupon code: ${couponCode}`;
                couponGenerated = true; // Mark coupon as generated

                // Send coupon via WhatsApp
                const whatsappMessage = `Hello Nawarathna Cool Engineering, I've shared your page on Facebook (${shareLink}) and my coupon code is: ${couponCode}.`;
                window.open('https://wa.me/'+WHA+'?text='+encodeURIComponent(whatsappMessage),'_blank');

              } else if (couponGenerated) {
                couponMessage.textContent = 'Coupon already generated. Check your WhatsApp!';
              } else {
                couponMessage.textContent = 'Please enter a valid Facebook share link.';
              }
            });
          }

          // show after scroll 10%
          function onScroll(){
            if(shown) return;
            try{
              const doc = document.documentElement;
              const scrolled = (window.scrollY || window.pageYOffset);
              const threshold = (doc.scrollHeight - doc.clientHeight) * 0.10;
              if(scrolled > threshold){
                showModal();
                window.removeEventListener('scroll', onScroll);
              }
            }catch(e){}
          }
          window.addEventListener('scroll', onScroll);

          // Exit-intent logic for modal
          let exitIntentTriggered = false;

          function showExitIntentModal() {
              if (!shown && !exitIntentTriggered) {
                  showModal();
                  exitIntentTriggered = true; // Prevent multiple triggers in the same session
              }
          }

          // Desktop exit intent: mouse leaves viewport towards top
          document.addEventListener('mouseout', function(e) {
              if (e.clientY <= 10 && e.relatedTarget === null && e.toElement === null) {
                  showExitIntentModal();
              }
          });

          // Mobile exit intent: using visibilitychange to detect tab switching/closing
          document.addEventListener('visibilitychange', function() {
              if (document.hidden) {
                  // User switched tab or minimized browser
                  // Store a flag if the modal hasn't been shown yet
                  if (!shown && !exitIntentTriggered) {
                      try {
                          localStorage.setItem('nawarathna_exit_prompt', '1');
                      } catch (e) {
                          console.error('Error setting localStorage:', e);
                      }
                  }
              } else {
                  // User returned to the page
                  if (localStorage.getItem('nawarathna_exit_prompt') === '1') {
                      setTimeout(() => {
                          showExitIntentModal();
                          localStorage.removeItem('nawarathna_exit_prompt');
                      }, 800); // Small delay to prevent immediate modal on tab switch
                  }
              }
          });

          // Check on page load if the exit prompt flag is set from previous session
          try {
              if (localStorage.getItem('nawarathna_exit_prompt') === '1') {
                  setTimeout(() => {
                      showExitIntentModal();
                      localStorage.removeItem('nawarathna_exit_prompt');
                  }, 800);
              }
          } catch (e) {
              console.error('Error reading localStorage on load:', e);
          }
        })();

      }catch(e){ console.error('Page init error', e); }
    })();
  </script>
</body>
</html>
