<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nawarathna Cool Engineering ‚Äî AC Installation, Repair & Maintenance</title>
<meta name="description" content="Nawarathna Cool Engineering ‚Äî AC installation, repair & maintenance. Contact: +94 757 077 777" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
    --primary: #0b74de; /* Darker blue for primary actions and accents */
    --primary-light: #4c96e6;
    --primary-dark: #07213a; /* Very dark blue for header background */
    --secondary: #25D366; /* Green for success/WhatsApp */
    --accent-orange: #ff9800; /* A touch of orange for warmth/highlight */
    --text-dark: #1a202c; /* Dark text for readability */
    --text-muted: #6b7280; /* Muted text for secondary info */
    --bg-light: #f8faff; /* Light background for sections */
    --bg-medium: #e9f0f8; /* Slightly darker background for contrast */
    --border-color: #e2e8f0; /* Light border color */
    --shadow-light: rgba(25, 40, 60, 0.08); /* Light shadow for depth */
    --shadow-medium: rgba(11, 116, 222, 0.15); /* Medium shadow for floating elements */
    --maxw:1200px;
    font-family: 'Inter', system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
}
*{box-sizing:border-box}
body{
    margin:0;
    color:var(--text-dark);
    line-height:1.6;
    background:var(--bg-light);
    font-size:16px;
}
.wrap{
    max-width:var(--maxw);
    margin:0 auto;
    padding:24px;
}
header{
    background:linear-gradient(90deg,var(--primary-dark) 0%, var(--primary-light) 100%);
    color:white;
    padding:25px 0 50px; /* More padding at bottom for hero overlap */
    position:relative;
    overflow:hidden;
}
.header-bg-elements {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    opacity: 0.1;
}
.header-bg-elements::before, .header-bg-elements::after {
    content: '';
    position: absolute;
    background: rgba(255,255,255,0.05);
    border-radius: 50%;
    filter: blur(50px);
}
.header-bg-elements::before {
    width: 300px;
    height: 300px;
    top: -100px;
    left: -100px;
}
.header-bg-elements::after {
    width: 400px;
    height: 400px;
    bottom: -150px;
    right: -150px;
}

.topbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:20px;
    padding:0 24px;
    position:relative;
    z-index:10;
}
.brand{
    display:flex;
    gap:15px;
    align-items:center;
}
.logo{
    width:60px;
    height:60px;
    border-radius:12px;
    background:white;
    display:grid;
    place-items:center;
    color:var(--primary);
    font-weight:800;
    font-size:24px;
    box-shadow:0 4px 15px rgba(0,0,0,0.1);
}
nav a{
    color:rgba(255,255,255,0.95);
    text-decoration:none;
    margin-left:25px;
    font-weight:600;
    transition:color 0.3s ease;
}
nav a:hover{
    color:var(--accent-orange);
}
.contact-info-header {
    text-align:right;
    color:white;
    display:flex;
    flex-direction:column;
    gap:4px;
}
.contact-info-header div:first-child{
    font-weight:700;
    font-size:17px;
}
.contact-info-header div:last-child{
    font-size:14px;
    color:rgba(255,255,255,0.85);
}

.hero{
    display:flex;
    gap:40px;
    align-items:center;
    padding:40px 24px;
    position:relative;
    z-index:10;
}
.hero-left{
    flex:1;
    min-width:300px;
}
.eyebrow{
    font-size:16px;
    color:var(--accent-orange);
    font-weight:600;
    margin-bottom:8px;
}
.h1{
    font-size:42px;
    margin:15px 0;
    color:white;
    line-height:1.2;
}
.lead{
    color:rgba(255,255,255,0.9);
    max-width:60ch;
    font-size:18px;
    margin-bottom:25px;
}
.cta-row{
    margin-top:20px;
    display:flex;
    gap:15px;
    flex-wrap:wrap;
}
.btn{
    background:white;
    color:var(--primary);
    padding:14px 25px;
    border-radius:10px;
    text-decoration:none;
    font-weight:700;
    border:none;
    cursor:pointer;
    font-size:16px;
    transition:transform 0.2s ease, background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
    box-shadow:0 8px 25px rgba(0,0,0,0.1);
}
.btn:hover{
    transform:translateY(-3px);
    box-shadow:0 12px 30px rgba(0,0,0,0.15);
}
.btn.secondary{
    background:rgba(255,255,255,0.15);
    border:2px solid rgba(255,255,255,0.25);
    color:white;
    box-shadow:none;
}
.btn.secondary:hover{
    background:rgba(255,255,255,0.25);
    border-color:rgba(255,255,255,0.4);
    box-shadow:none;
}
.btn.primary-colored {
    background: var(--primary);
    color: white;
    box-shadow: 0 8px 25px rgba(11, 116, 222, 0.25);
}
.btn.primary-colored:hover {
    background: var(--primary-light);
    box-shadow: 0 12px 30px rgba(11, 116, 222, 0.35);
}

.kpis{
    display:flex;
    gap:15px;
    margin-top:25px;
    flex-wrap:wrap;
}
.kpi{
    background:rgba(255,255,255,0.1);
    padding:10px 15px;
    border-radius:8px;
    font-weight:600;
    font-size:14px;
    display:flex;
    gap:8px;
    align-items:center;
    color:rgba(255,255,255,0.9);
    border:1px solid rgba(255,255,255,0.15);
}
.hero-right{
    width:400px;
    background:rgba(255,255,255,0.08); /* Semi-transparent white */
    backdrop-filter: blur(10px); /* Glassmorphism effect */
    -webkit-backdrop-filter: blur(10px);
    padding:25px;
    border-radius:15px;
    color:white;
    border:1px solid rgba(255,255,255,0.15);
    box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.hero-right h3{
    margin:0 0 10px;
    font-size:24px;
}
.hero-right p{
    margin:0 0 20px;
    color:rgba(255,255,255,0.85);
    font-size:15px;
}
.hero-right input{
    background:rgba(255,255,255,0.1);
    border:1px solid rgba(255,255,255,0.25);
    color:white;
    padding:12px 15px;
    border-radius:8px;
    width:100%;
    font-size:16px;
    transition:background 0.3s ease, border-color 0.3s ease;
}
.hero-right input::placeholder{
    color:rgba(255,255,255,0.6);
}
.hero-right input:focus{
    background:rgba(255,255,255,0.2);
    border-color:rgba(255,255,255,0.5);
    outline:none;
}
.hero-right hr{
    border:none;
    border-top:1px solid rgba(255,255,255,0.1);
    margin:20px 0;
}
.hero-right .office-info div{
    font-size:15px;
    color:rgba(255,255,255,0.85);
    margin-top:6px;
}


main{
    padding:30px 0;
}
section{
    background:white;
    border-radius:18px;
    padding:35px;
    margin-bottom:30px;
    box-shadow:0 10px 30px var(--shadow-light);
}
section h2{
    font-size:36px;
    font-weight:800;
    margin-top:0;
    margin-bottom:15px;
    color:var(--primary-dark);
}
section p{
    color:var(--text-muted);
    font-size:17px;
    line-height:1.7;
    margin-bottom:25px;
}

.services .grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:25px;
    margin-top:25px;
}
.service{
    padding:25px;
    border-radius:15px;
    border:1px solid var(--border-color);
    background:linear-gradient(180deg,#fff,var(--bg-light));
    box-shadow:0 5px 20px rgba(0,0,0,0.05);
    transition:transform 0.3s ease, box-shadow 0.3s ease;
}
.service:hover{
    transform:translateY(-5px);
    box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.service h4{
    font-size:22px;
    margin-top:0;
    margin-bottom:10px;
    color:var(--primary);
}
.service p{
    font-size:16px;
    margin-bottom:0;
}

.process-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:20px;
    margin-top:25px;
}
.process-step{
    padding:20px;
    border-radius:12px;
    background:var(--bg-light);
    border:1px solid var(--border-color);
    text-align:center;
    box-shadow:0 3px 15px rgba(0,0,0,0.03);
    transition:background 0.3s ease;
}
.process-step:hover{
    background:var(--bg-medium);
}
.process-step strong{
    font-size:18px;
    color:var(--primary-dark);
    display:block;
    margin-bottom:8px;
}
.process-step div{
    color:var(--text-muted);
    font-size:14px;
}

.products{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:25px;
    margin-top:25px;
}
.card{
    border-radius:15px;
    overflow:hidden;
    border:1px solid var(--border-color);
    background:white;
    display:flex;
    flex-direction:column;
    box-shadow:0 5px 20px rgba(0,0,0,0.05);
    transition:transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover{
    transform:translateY(-5px);
    box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.prod-img{
    width:100%;
    height:200px;
    object-fit:contain;
    background:var(--bg-light);
    padding:15px;
    border-bottom:1px solid var(--border-color);
    border-radius:15px 15px 0 0;
}
.card .bd{
    padding:20px;
    display:flex;
    flex-direction:column;
    flex:1;
}
.card .bd > div:first-child {
    font-weight:700;
    font-size:18px;
    margin-bottom:5px;
    color:var(--primary-dark);
}
.price{
    font-weight:800;
    color:var(--primary);
    font-size:22px;
    margin-top:10px;
}
.card .bd .btn{
    padding:10px 18px;
    font-size:15px;
    box-shadow:none;
    margin-top:10px;
}
.card .bd .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}


.testimonials .quote{
    padding:20px;
    border-radius:12px;
    background:var(--bg-light);
    border-left:5px solid var(--primary);
    margin-bottom:15px;
    box-shadow:0 3px 15px rgba(0,0,0,0.03);
}
.testimonials .quote strong{
    font-size:18px;
    color:var(--primary-dark);
    display:block;
    margin-bottom:5px;
}
.testimonials .quote div{
    color:var(--text-muted);
    font-size:16px;
    line-height:1.6;
}

.contact-grid{
    display:grid;
    grid-template-columns:1fr 350px;
    gap:35px;
}
form input, form textarea{
    width:100%;
    padding:15px;
    border-radius:10px;
    border:1px solid var(--border-color);
    margin-bottom:15px;
    font-size:16px;
    color:var(--text-dark);
    transition:border-color 0.3s ease, box-shadow 0.3s ease;
}
form input:focus, form textarea:focus{
    border-color:var(--primary-light);
    box-shadow:0 0 0 3px rgba(11,116,222,0.2);
    outline:none;
}
form textarea{
    resize:vertical;
    min-height:120px;
}
.contact-grid aside{
    padding:25px;
    border-radius:15px;
    background:var(--bg-medium);
    border:1px solid var(--border-color);
    box-shadow:0 5px 20px rgba(0,0,0,0.05);
}
.contact-grid aside h3{
    margin-top:0;
    font-size:24px;
    color:var(--primary-dark);
}
.contact-grid aside > div{
    margin-top:15px;
    font-size:16px;
    color:var(--text-dark);
}
.contact-grid aside strong{
    color:var(--primary);
}
.contact-grid aside .btn{
    margin-top:15px;
    display:inline-flex;
    margin-right:10px;
    padding:10px 20px;
    font-size:15px;
}

.footer{
    padding:30px 0;
    color:var(--text-muted);
    font-size:14px;
    text-align:center;
}
.footer-row{
    display:flex;
    justify-content:space-between;
    gap:20px;
    align-items:center;
    flex-wrap:wrap;
}

.map-row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:25px;
    margin-top:30px;
}
.map-embed{
    border-radius:15px;
    overflow:hidden;
    border:1px solid var(--border-color);
    padding:15px;
    background:var(--bg-light);
    box-shadow:0 5px 20px rgba(0,0,0,0.05);
}
.map-embed div:first-child{
    font-weight:700;
    margin-bottom:10px;
    font-size:18px;
    color:var(--primary-dark);
}
.map-embed iframe{
    border-radius:10px;
}

.social-galleries{
    display:grid;
    grid-template-columns:1fr;
    gap:25px;
}
.social-embed{
    border-radius:15px;
    overflow:hidden;
    border:1px solid var(--border-color);
    padding:15px;
    background:var(--bg-light);
    box-shadow:0 5px 20px rgba(0,0,0,0.05);
}
.social-embed h3{
    margin-top:0;
    margin-bottom:15px;
    font-size:22px;
    color:var(--primary-dark);
}
.insta-gallery-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
    gap:10px;
    margin-top:15px;
}
.insta-gallery-grid img{
    width:100%;
    height:140px;
    object-fit:cover;
    border-radius:8px;
    border:1px solid var(--border-color);
    transition:transform 0.3s ease;
}
.insta-gallery-grid img:hover {
    transform: scale(1.05);
}

/* Floating buttons */
.cart-bubble{
    position:fixed;
    right:25px;
    bottom:25px;
    background:var(--primary);
    color:#fff;
    padding:15px 20px;
    border-radius:999px;
    box-shadow:0 10px 30px var(--shadow-medium);
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:10px;
    z-index:9999;
    font-weight:700;
    font-size:17px;
    transition:transform 0.3s ease, background 0.3s ease;
}
.cart-bubble:hover{
    transform:translateY(-5px);
    background:var(--primary-light);
}
.cart-bubble .cart-icon{
    font-size:22px;
}
.cart-bubble #cartCount{
    background:white;
    color:var(--primary);
    border-radius:50%;
    padding:4px 8px;
    font-size:14px;
    min-width:28px;
    text-align:center;
}
.whatsapp-float{
    position:fixed;
    left:25px;
    bottom:25px;
    background:var(--secondary);
    color:#fff;
    padding:15px 20px;
    border-radius:999px;
    box-shadow:0 8px 24px rgba(37,211,102,0.25);
    display:flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    z-index:9999;
    font-weight:700;
    font-size:17px;
    transition:transform 0.3s ease, background 0.3s ease;
}
.whatsapp-float:hover{
    transform:translateY(-5px);
    background:#20a850;
}

/* Cart modal (bigger modal with overlay) */
.cart-overlay{
    position:fixed;
    left:0;
    top:0;
    right:0;
    bottom:0;
    background:rgba(5,10,20,0.6);
    z-index:9997;
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
}
.cart-overlay.open{
    display:flex;
}
.cart-modal{
    width:780px;
    max-width:95vw;
    background:white;
    border-radius:20px;
    padding:30px;
    box-shadow:0 25px 50px rgba(20,40,90,0.15);
    z-index:9998;
    display:flex;
    flex-direction:column;
    max-height:90vh;
    overflow-y:auto;
}
.cart-modal .close{
    background:transparent;
    border:none;
    font-size:24px;
    cursor:pointer;
    align-self:flex-end;
    color:var(--text-muted);
    transition:color 0.3s ease;
}
.cart-modal .close:hover{
    color:var(--text-dark);
}
.cart-modal h3{
    font-size:30px;
    margin:0 0 20px;
    color:var(--primary-dark);
}
.cart-modal .cart-item{
    display:flex;
    gap:15px;
    align-items:center;
    padding:15px 0;
    border-bottom:1px dashed var(--border-color);
}
.cart-modal .cart-item:last-of-type{
    border-bottom:none;
}
.cart-modal .cart-item img{
    width:100px;
    height:70px;
    object-fit:contain;
    border-radius:8px;
    background:var(--bg-light);
    padding:5px;
    border:1px solid var(--border-color);
}
.cart-modal .cart-item > div:nth-child(2) > div:first-child{
    font-weight:700;
    font-size:17px;
    color:var(--primary-dark);
}
.cart-modal .cart-item > div:nth-child(2) > div:last-child{
    color:var(--text-muted);
    font-size:15px;
}
.cart-modal .cart-item .qty-controls button{
    padding:8px 12px;
    border-radius:6px;
    border:1px solid var(--border-color);
    background:var(--bg-medium);
    font-size:16px;
    cursor:pointer;
    transition:background 0.3s ease, border-color 0.3s ease;
}
.cart-modal .cart-item .qty-controls button:hover{
    background:var(--primary-light);
    border-color:var(--primary);
    color:white;
}
.cart-modal .total{
    margin-top:25px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding-top:15px;
    border-top:1px solid var(--border-color);
}
.cart-modal #cartTotal{
    font-weight:800;
    font-size:24px;
    color:var(--primary);
}

/* Responsive improvements for small screens */
@media (max-width:960px){
    .wrap{padding:20px;}
    .hero{flex-direction:column;align-items:stretch;padding:30px 20px}
    .hero-right{width:100%}
    .h1{font-size:36px}
    .lead{font-size:17px}
    .topbar{flex-direction:column;align-items:flex-start;padding:20px}
    nav{display:none} /* Hide nav on small screens */
    .contact-info-header{display:none;} /* Hide header contact info on small screens */
    section{padding:30px; margin-bottom:25px;}
    section h2{font-size:32px;}
    .cta-row{gap:10px}
    .kpis{flex-direction:column;gap:10px}
    .btn{padding:12px 20px; font-size:15px;}
}
@media (max-width:720px){
    .h1{font-size:30px; margin:10px 0;}
    .lead{font-size:16px;}
    section h2{font-size:28px;}
    .contact-grid{grid-template-columns:1fr;padding:0}
    .map-row{grid-template-columns:1fr}
    .cart-modal{padding:20px;}
    .cart-modal h3{font-size:26px; margin-bottom:15px;}
    .cart-modal .cart-item img{width:80px; height:60px;}
    .cart-modal .cart-item > div:nth-child(2) > div:first-child{font-size:16px;}
    .cart-modal .total #cartTotal{font-size:20px;}
    .whatsapp-float, .cart-bubble{padding:12px 18px; font-size:16px; bottom:20px;}
    .whatsapp-float{left:20px;}
    .cart-bubble{right:20px;}
    .footer-row{flex-direction:column; text-align:center;}
}
@media (max-width:500px){
    .wrap{padding:15px;}
    .hero{padding:25px 15px;}
    .h1{font-size:26px;}
    .eyebrow{font-size:14px;}
    section{padding:25px; margin-bottom:20px;}
    section h2{font-size:24px;}
    .service h4{font-size:20px;}
    .service p, .testimonials .quote div{font-size:15px;}
    .product-grid, .services .grid, .process-grid, .map-row, .insta-gallery-grid{
        grid-template-columns:1fr;
    }
    .product-grid .card, .service, .process-step, .map-embed, .social-embed{
        padding:20px;
    }
    .prod-img{height:150px;}
}

/* Print A4 friendly */
@media print{
  nav, .cart-bubble, .whatsapp-float, .cart-overlay, .cart-modal, .btn{display:none !important}
  .wrap{padding:0}
  @page{size:A4;margin:20mm}
}

/* -------------------------
   Reveal / scroll animations
   ------------------------- */
.reveal {
  opacity: 0;
  transform: translateY(22px);
  will-change: transform, opacity;
  transition: opacity .6s cubic-bezier(.2,.9,.3,1), transform .6s cubic-bezier(.2,.9,.3,1);
  transition-delay: 0s;
}
.reveal.active {
  opacity: 1;
  transform: none;
}
.reveal-left {
  transform: translateX(-22px);
}
.reveal-right {
  transform: translateX(22px);
}
.reveal.up-small {
  transform: translateY(12px);
}
.reveal.stagger-1 { transition-delay: .06s; }
.reveal.stagger-2 { transition-delay: .12s; }
.reveal.stagger-3 { transition-delay: .18s; }
.reveal.stagger-4 { transition-delay: .24s; }

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .reveal { transition: none !important; transform: none !important; opacity: 1 !important; }
}
</style>
</head>
<body>
<header>
  <div class="header-bg-elements"></div>
  <div class="wrap topbar">
    <div class="brand">
      <div class="logo">NC</div>
      <div>
        <div style="font-weight:800;font-size:20px">Nawarathna Cool Engineering</div>
        <div style="font-size:14px;color:rgba(255,255,255,0.9)">AC Installation ‚Ä¢ Repair ‚Ä¢ Maintenance</div>
      </div>
    </div>
    <nav aria-label="Main navigation">
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#shop">Shop</a>
      <a href="#projects">Projects</a>
      <a href="#contact">Contact</a>
    </nav>
    <div class="contact-info-header">
      <div>+94 757 077 777</div>
      <div>nadun.navarathna@icloud.com</div>
    </div>
  </div>

  <div class="wrap hero">
    <div class="hero-left">
      <div class="eyebrow reveal reveal-up-small">Trusted HVAC specialists ‚Äî Kottawa, Sri Lanka</div>
      <h1 class="h1 reveal reveal-up-small">Comfort & efficiency ‚Äî expert AC solutions for homes & businesses</h1>
      <p class="lead reveal reveal-up-small">Installation, repairs, scheduled maintenance and emergency support. Over 5 years of experience delivering reliable HVAC service with transparent pricing and a satisfaction guarantee.</p>
      <div class="cta-row reveal reveal-up-small">
        <a class="btn primary-colored" href="#contact">Request a Quote</a>
        <a class="btn secondary" href="#shop">View Services</a>
      </div>

      <div class="kpis" aria-hidden="false">
        <div class="kpi reveal reveal-left stagger-1">üïí 24/7 Emergency Support</div>
        <div class="kpi reveal reveal-left stagger-2">üèÜ 5+ yrs Experience</div>
        <div class="kpi reveal reveal-left stagger-3">‚úîÔ∏è 100% Satisfaction</div>
      </div>
    </div>

    <aside class="hero-right reveal reveal-right" role="complementary">
      <h3>Fast Quote</h3>
      <p>Tell us the model & location ‚Äî we'll call with a free estimate.</p>
      <div style="display:flex;gap:10px;flex-wrap:wrap;">
        <div style="flex:1;"><input id="nameQuick" placeholder="Your name" /></div>
        <div style="width:180px;"><input id="phoneQuick" placeholder="Phone e.g. 07XXXXXXXX" /></div>
      </div>
      <div style="margin-top:15px;"><button class="btn primary-colored" style="width:100%" onclick="requestCall()">Request Call</button></div>
      <div id="fastQuoteError" style="color:#ffdddd;background:#cc3333;padding:10px;border-radius:8px;margin-top:10px;display:none;font-size:14px;"></div>
      <hr />
      <div class="office-info">
        <div>Office: Kottawa</div>
        <div>Mon - Fri 08:00 - 18:00</div>
      </div>
    </aside>
  </div>
</header>

<main class="wrap">
  <!-- 1) About Us -->
  <section id="about" class="about reveal reveal-up-small">
    <h2>About Us</h2>
    <p>Welcome to <strong>Nawarathna Cool Engineering PVT LTD</strong> ‚Äî Air conditioning specialists with 5 years of industry experience. We provide installation, repair, maintenance and upgrades for residential and commercial HVAC systems. Our team of skilled technicians works with trusted global brands (LG, Hisense, Haier) and focuses on transparent pricing, quality parts, flexible scheduling, and quick emergency support. We stand behind our work with a satisfaction guarantee and aim to make your home or workplace comfortable and efficient.</p>
  </section>

  <!-- 2) Our Services -->
  <section id="services" class="services reveal reveal-up-small">
    <h2>Our Services</h2>
    <p>Comprehensive AC services ‚Äî from new installations to emergency repairs and regular maintenance.</p>
    <div class="grid">
      <div class="service reveal reveal-left stagger-1">
        <h4>Installation</h4>
        <p>Professional system design and installation for residential and commercial AC units, including ducting and zoning.</p>
      </div>
      <div class="service reveal reveal-left stagger-2">
        <h4>Repair</h4>
        <p>Fast diagnostics and repairs ‚Äî compressors, leaks, electrical faults, gas top-ups and more.</p>
      </div>
      <div class="service reveal reveal-left stagger-3">
        <h4>Maintenance</h4>
        <p>Scheduled servicing to keep efficiency high and extend equipment life ‚Äî filters, coils, and preventive checks.</p>
      </div>
    </div>
  </section>

  <!-- 3) From First Call to Cool Comfort ‚Äî Our Process (separate section now) -->
  <section id="process" class="reveal reveal-up-small">
    <h2>From First Call to Cool Comfort ‚Äî Our Process</h2>
    <p>We make it simple: tell us, we quote, we schedule, we fix, and we follow up to ensure satisfaction.</p>
    <div class="process-grid" aria-label="our process">
      <div class="process-step reveal reveal-up-small stagger-1"><strong>1. Tell Us</strong><div>Describe model, issue & location</div></div>
      <div class="process-step reveal reveal-up-small stagger-2"><strong>2. Fast Quote</strong><div>Transparent pricing with no hidden fees</div></div>
      <div class="process-step reveal reveal-up-small stagger-3"><strong>3. Schedule</strong><div>Pick a time that suits you</div></div>
      <div class="process-step reveal reveal-up-small stagger-4"><strong>4. Install / Repair</strong><div>Expert technicians on site</div></div>
      <div class="process-step reveal reveal-up-small stagger-1"><strong>5. Quality Check</strong><div>Testing & demonstration</div></div>
      <div class="process-step reveal reveal-up-small stagger-2"><strong>6. Follow-up</strong><div>We ensure you're satisfied</div></div>
    </div>
  </section>

  <!-- 4) Featured Products -->
  <section id="shop" class="shop reveal reveal-up-small">
    <h2>Featured Products</h2>
    <p>Selected AC units we sell and install. Click "Add to cart" ‚Äî checkout sends the order to WhatsApp.</p>
    <div class="products" id="productGrid"></div>
  </section>

  <!-- 5) Projects & Gallery -->
  <section id="projects" class="reveal reveal-up-small">
    <h2>Projects & Gallery</h2>
    <p>A selection of installations and maintenance work.</p>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:15px;" id="gallery"></div>
  </section>

  <!-- 6) Social & Gallery -->
  <section id="socials" class="social-galleries reveal reveal-up-small">
    <h2>Social & Gallery</h2>
    <p>Latest updates from our Facebook page and Instagram profile.</p>

    <div class="social-embed reveal reveal-up-small">
      <h3>Facebook Page</h3>
      <div id="fb-root"></div>
      <div class="fb-page" data-href="https://www.facebook.com/people/Nawarathna-Cool-Engineering-PVT-LTD/100043320322923/" data-tabs="timeline" data-width="500" data-height="400" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/people/Nawarathna-Cool-Engineering-PVT-LTD/100043320322923/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/people/Nawarathna-Cool-Engineering-PVT-LTD/100043320322923/">Nawarathna Cool Engineering PVT LTD</a></blockquote></div>
    </div>

    <div class="social-embed reveal reveal-up-small">
      <h3>Instagram photos</h3>
      <div class="insta-gallery-grid" id="instaGrid"></div>
      <div style="margin-top:20px; text-align:center;"><a class="btn primary-colored" href="https://www.instagram.com/nawarathna_cool_engineering/" target="_blank">Open Instagram Profile</a></div>
    </div>
  </section>

  <!-- 7) Testimonials -->
  <section class="testimonials reveal reveal-up-small">
    <h2>What customers say</h2>
    <div class="quote reveal reveal-left stagger-1"><strong>Nuwan P.</strong><div>"The service provided by Nawarathna Cool Engineering was exceptional. They quickly resolved an issue with our AC, and now it works better than ever!"</div></div>
    <div class="quote reveal reveal-left stagger-2"><strong>Kavindu L.</strong><div>"Excellent customer service and attention to detail. The technicians were knowledgeable and made sure everything was in perfect order before they left."</div></div>
    <div class="quote reveal reveal-left stagger-3"><strong>Tharindu S.</strong><div>"I was impressed by their efficiency and professionalism. Nawarathna Cool Engineering made the process of installing our new AC system hassle-free."</div></div>
    <div class="quote reveal reveal-left stagger-4"><strong>Dilani K.</strong><div>"Reliable, professional, and friendly service. I highly recommend Nawarathna Cool Engineering for all your AC needs."</div></div>
    <div class="quote reveal reveal-left stagger-1"><strong>Samanthi M.</strong><div>"I couldn't be happier with the service I received. The team was punctual, professional, and made sure my AC unit was working perfectly."</div></div>
  </section>

  <!-- 8) Quick info (pulled out from the contact aside) -->
  <section id="quick-info" class="reveal reveal-up-small">
    <h2>Quick info</h2>
    <div style="display:grid;grid-template-columns:1fr;gap:12px;align-items:start;">
      <div style="font-weight:700;">Nawarathna Cool Engineering PVT LTD</div>
      <div>Phone: <strong>+94 757 077 777</strong> / <strong>+94 762 563 694</strong></div>
      <div>Email: <a href="mailto:nadun.navarathna@icloud.com" style="color:var(--primary); text-decoration:none;">nadun.navarathna@icloud.com</a></div>
      <div style="margin-top:10px; font-weight:700;">Branches:</div>
      <div><strong>Pannipitiya branch</strong> ‚Äî 202, Highlevel Road, Pannipitiya</div>
      <div><strong>Kadawatha branch</strong> ‚Äî 150A, Kandy Road, Mahara, Kadawatha</div>
      <div style="margin-top:12px;">
        <a class="btn primary-colored" href="https://www.facebook.com/people/Nawarathna-Cool-Engineering-PVT-LTD/100043320322923/" target="_blank">Facebook Page</a>
        <a class="btn primary-colored" href="https://www.instagram.com/nawarathna_cool_engineering/" target="_blank" style="margin-left:8px">Instagram</a>
      </div>
    </div>
  </section>

  <!-- 9) Contact & Request a Quote (form only; quick-info separated above) -->
  <section id="contact" class="reveal reveal-up-small">
    <h2>Contact & Request a Quote</h2>
    <div class="contact-grid">
      <div class="reveal reveal-up-small">
        <p>Send a message or call us ‚Äî we‚Äôll reply quickly.</p>
        <form id="contactForm">
          <input id="cname" name="name" placeholder="Full name" required />
          <input id="cphone" name="phone" placeholder="Phone or WhatsApp (07XXXXXXXX)" required />
          <input id="cemail" name="email" placeholder="Email (optional)" />
          <textarea id="cmessage" name="message" rows="5" placeholder="Tell us model / issue / location"></textarea>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <button class="btn primary-colored" type="submit">Send message</button>
            <a class="btn secondary" href="tel:+94757077777">Call +94 757 077 777</a>
          </div>
          <div id="contactError" style="color:#cc3333;margin-top:10px;display:none;font-size:14px;"></div>
        </form>
      </div>

      <aside class="reveal reveal-up-small">
        <h3>Extra Contact Info</h3>
        <div style="font-weight:700;">Office hours & quick pointers</div>
        <div style="margin-top:10px;color:var(--text-muted)">Mon - Fri 08:00 - 18:00. For emergencies use WhatsApp or call +94 757 077 777.</div>
      </aside>
    </div>
  </section>

  <!-- 10) Maps (moved to the end) -->
  <section id="maps" class="reveal reveal-up-small">
    <h2>Maps</h2>
    <div class="map-row">
      <div class="map-embed reveal reveal-up-small">
        <div>Pannipitiya branch</div>
        <iframe width="100%" height="250" style="border:0" loading="lazy" allowfullscreen
          src="https://www.google.com/maps?q=202%20Highlevel%20Road%20Pannipitiya&output=embed"></iframe>
      </div>
      <div class="map-embed reveal reveal-up-small">
        <div>Kadawatha branch</div>
        <iframe width="100%" height="250" style="border:0" loading="lazy" allowfullscreen
          src="https://www.google.com/maps?q=150A%20Kandy%20Road%20Mahara%20Kadawatha&output=embed"></iframe>
      </div>
    </div>
  </section>

</main>

<footer class="footer reveal reveal-up-small">
  <div class="wrap footer-row">
    <div>¬© <strong>Nawarathna Cool Engineering PVT LTD</strong> 2025 ‚Äî All rights reserved</div>
    <div style="color:var(--text-muted)">Website Development and Maintenance by Sahan Colombage - <a href="tel:+94703150742" style="color:var(--text-muted); text-decoration:none;">070 315 0742</a></div>
  </div>
</footer>

<a class="whatsapp-float" id="waFloat" href="https://wa.me/94757077777" target="_blank" title="Chat on WhatsApp">üí¨ WhatsApp Chat</a>

<button class="cart-bubble" id="cartBtn" title="Open cart"><span class="cart-icon">üõí</span> <span id="cartCount">0</span></button>

<div class="cart-overlay" id="cartOverlay" aria-hidden="true">
  <div class="cart-modal" role="dialog" aria-modal="true" id="cartModal">
    <button class="close" onclick="closeCartModal()" aria-label="Close cart">‚úï</button>
    <h3>Your cart</h3>
    <div id="cartItems" style="max-height:420px;overflow-y:auto; margin-bottom:15px;"></div>
    <div class="total">
      <div style="display:flex;gap:10px;align-items:center;">
        <button class="btn primary-colored" onclick="checkout()">Checkout via WhatsApp</button>
        <button class="btn secondary" onclick="clearCart()">Clear</button>
      </div>
      <div id="cartTotal">Rs. 0</div>
    </div>
  </div>
</div>

<script>
// Product data (unchanged)
const PRODUCTS = [
  {id:1,name:'Media 7000 BTU Non Inverter', price:125000, imgLocal:'images/items/1.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/1.jpg'},
  {id:2,name:'Media 9000 BTU Non Inverter', price:165000, imgLocal:'images/items/2.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/2.jpg'},
  {id:3,name:'Media 12000 BTU Non Inverter', price:175000, imgLocal:'images/items/3.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/3.jpg'},
  {id:4,name:'Media 18000 BTU Non Inverter', price:225000, imgLocal:'images/items/4.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/4.jpg'},
  {id:5,name:'Media 24000 BTU Non Inverter', price:275000, imgLocal:'images/items/5.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/5.jpg'},
  {id:6,name:'Media 9000 BTU Inverter', price:195000, imgLocal:'images/items/6.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/6.jpg'},
  {id:7,name:'Media 12000 BTU Inverter', price:215000, imgLocal:'images/items/7.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/7.jpg'},
  {id:8,name:'Media 18000 BTU Inverter', price:265000, imgLocal:'images/items/8.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/8.jpg'},
  {id:9,name:'Media 24000 BTU Inverter', price:325000, imgLocal:'images/items/9.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/9.jpg'},
  {id:10,name:'Hisense 9000 BTU Non Inverter', price:130000, imgLocal:'images/items/10.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/10.jpg'},
  {id:11,name:'Hisense 12000 BTU Non Inverter', price:145000, imgLocal:'images/items/11.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/11.jpg'},
  {id:12,name:'Hisense 9000 BTU Inverter', price:155000, imgLocal:'images/items/12.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/12.jpg'},
  {id:13,name:'Comfri 12000 BTU Non Inverter', price:140000, imgLocal:'images/items/13.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/13.jpg'},
  {id:14,name:'Comfri 18000 BTU Non Inverter', price:185000, imgLocal:'images/items/14.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/14.jpg'},
  {id:15,name:'Comfri 18000 BTU Inverter', price:195000, imgLocal:'images/items/15.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/15.jpg'},
  {id:16,name:'Comfri 24000 BTU Inverter', price:235000, imgLocal:'images/items/16.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/16.jpg'},
  {id:17,name:'HYUNDAI 9000 BTU Wall Mount Inverter', price:110300, imgLocal:'images/items/17.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/17.jpg'},
  {id:18,name:'HYUNDAI 12000 BTU Wall Mount Inverter', price:135000, imgLocal:'images/items/18.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/18.jpg'},
  {id:19,name:'HYUNDAI 18000 BTU Wall Mount Inverter', price:168000, imgLocal:'images/items/19.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/19.jpg'},
  {id:20,name:'BG Media 12000 BTU Wall Mount Non Inverter', price:156000, imgLocal:'images/items/20.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/20.jpg'},
  {id:21,name:'BG Media 18000 BTU Wall Mount Non Inverter', price:195000, imgLocal:'images/items/21.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/21.jpg'},
  {id:22,name:'BG Media 24000 BTU Wall Mount Non Inverter', price:246000, imgLocal:'images/items/22.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/22.jpg'},
  {id:23,name:'BG Media 12000 BTU Wall Mount Inverter', price:182000, imgLocal:'images/items/23.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/23.jpg'},
  {id:24,name:'BG Media 18000 BTU Wall Mount Inverter', price:220000, imgLocal:'images/items/24.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/24.jpg'},
  {id:25,name:'BG Media 24000 BTU Wall Mount Inverter', price:279000, imgLocal:'images/items/25.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/25.jpg'},
  {id:26,name:'BG Chigo 36000 BTU Floor Ceiling Non Inverter', price:472500, imgLocal:'images/items/26.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/26.jpg'},
  {id:27,name:'BG Chigo 48000 BTU Floor Ceiling Non Inverter', price:542500, imgLocal:'images/items/27.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/27.jpg'},
  {id:28,name:'BG Chigo 60000 BTU Floor Ceiling Non Inverter', price:567500, imgLocal:'images/items/28.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/28.jpg'},
  {id:29,name:'BG Chigo 36000 BTU Ceiling Cassette Non Inverter', price:487500, imgLocal:'images/items/29.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/29.jpg'},
  {id:30,name:'BG Chigo 48000 BTU Ceiling Cassette Non Inverter', price:550500, imgLocal:'images/items/30.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/30.jpg'},
  {id:31,name:'BG Chigo 60000 BTU Ceiling Cassette Non Inverter', price:595000, imgLocal:'images/items/31.jpg', imgFallback:'https://nawarathnacool.com/ims/images/items/31.jpg'}
];

// Render products - prefer local images (images/items/N.jpg). If local file missing, fallback to imgFallback when image fails to load
const productGrid = document.getElementById('productGrid');
PRODUCTS.forEach((p, idx) => {
  const card = document.createElement('article');
  card.className = 'card reveal reveal-up-small';
  // Add stagger classes to product cards to stagger reveal a bit
  const staggerIndex = (idx % 4) + 1;
  card.classList.add('stagger-' + staggerIndex);
  card.innerHTML = `
    <div class="media"><img loading="lazy" src="${p.imgLocal}" alt="${p.name}" class="prod-img" onerror="this.onerror=null;this.src='${p.imgFallback}'" /></div>
    <div class="bd">
      <div>${p.name}</div>
      <div class="price">Rs. ${p.price.toLocaleString()}</div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:15px">
        <div style="font-size:14px;color:var(--text-muted)">In stock</div>
        <div><button class="btn primary-colored" onclick="addToCart(${p.id})">Add to cart</button></div>
      </div>
    </div>`;
  productGrid.appendChild(card);
});

// Simple gallery (reusing product images)
const gallery = document.getElementById('gallery');
PRODUCTS.slice(0,6).forEach((p, idx) => {
  const d = document.createElement('a');
  d.href = p.imgFallback; d.target = '_blank';
  const img = document.createElement('img');
  img.src = p.imgLocal;
  img.loading = 'lazy';
  img.style = "height:150px;width:100%;object-fit:cover;border-radius:10px;border:1px solid var(--border-color);";
  img.alt = p.name;
  img.onerror = function(){ this.onerror = null; this.src = p.imgFallback; };
  d.appendChild(img);
  d.className = 'reveal reveal-up-small stagger-' + ((idx%4)+1);
  gallery.appendChild(d);
});

// CART (localStorage) - opens modal with overlay
const CART_KEY = 'nc_cart_final';
function getCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderCart(); }
function addToCart(id){ const cart=getCart(); const it=cart.find(i=>i.id===id); if(it) it.qty++; else cart.push({id,qty:1}); saveCart(cart); openCartModal(); }
function renderCart(){
  const cart=getCart(); const count=cart.reduce((s,i)=>s+i.qty,0); document.getElementById('cartCount').textContent=count;
  const itemsEl=document.getElementById('cartItems'); itemsEl.innerHTML=''; let total=0;
  cart.forEach(ci=>{ const p=PRODUCTS.find(x=>x.id===ci.id); total+=p.price*ci.qty; const row=document.createElement('div'); row.className='cart-item'; row.innerHTML=`<img src="${p.imgLocal}" alt="${p.name}" onerror="this.onerror=null;this.src='${p.imgFallback}'"><div style="flex:1"><div style="font-weight:800">${p.name}</div><div style="color:var(--text-muted)">Rs. ${p.price.toLocaleString()} √ó ${ci.qty}</div></div><div class="qty-controls" style="display:flex;flex-direction:column;gap:8px"><button onclick="inc(${ci.id})">+</button><button onclick="dec(${ci.id})">‚àí</button></div>`; itemsEl.appendChild(row); });
  document.getElementById('cartTotal').textContent='Rs. '+total.toLocaleString();
}
function inc(id){ const c=getCart(); c.find(i=>i.id===id).qty++; saveCart(c); }
function dec(id){ const c=getCart(); const it=c.find(i=>i.id===id); it.qty--; if(it.qty<=0){ const idx=c.indexOf(it); c.splice(idx,1); } saveCart(c); }
function clearCart(){ localStorage.removeItem(CART_KEY); renderCart(); }

// Checkout -> WhatsApp
function checkout(){
  const cart=getCart(); if(!cart.length){ alert('Cart is empty'); return; }
  const name = prompt('Your name for the order:') || 'Customer'; const phone = prompt('Phone or WhatsApp number:') || '';
  let lines = ['New order from website','Name: '+name,'Phone: '+phone,'Items:']; let total=0;
  cart.forEach(ci=>{ const p=PRODUCTS.find(x=>x.id===ci.id); lines.push('- '+p.name+' x '+ci.qty+' = Rs.'+(p.price*ci.qty).toLocaleString()); total+=p.price*ci.qty; });
  lines.push('Total: Rs. '+total.toLocaleString());
  const msg=encodeURIComponent(lines.join('\n')); const company='94757077777'; window.open('https://wa.me/'+company+'?text='+msg,'_blank'); clearCart(); closeCartModal();
}

// Cart modal controls
const cartBtn = document.getElementById('cartBtn');
cartBtn.addEventListener('click', ()=>openCartModal());
function openCartModal(){ renderCart(); document.getElementById('cartOverlay').classList.add('open'); document.getElementById('cartOverlay').setAttribute('aria-hidden','false'); window.scrollTo({top:0,behavior:'smooth'}); }
function closeCartModal(){ document.getElementById('cartOverlay').classList.remove('open'); document.getElementById('cartOverlay').setAttribute('aria-hidden','true'); }

// Fast Quote: validate phone number before opening WhatsApp
function validatePhoneNumber(v){
  const clean = v.replace(/[^0-9+]/g,'');
  if(!clean) return false;
  if(/^(\+94|94)7\d{8}$/.test(clean)) return true;
  if(/^07\d{8}$/.test(clean)) return true;
  if(/^\d{9,13}$/.test(clean) && (clean.startsWith('7') || clean.startsWith('0') || clean.startsWith('94'))) return true;
  return false;
}

function requestCall(){
  const name = document.getElementById('nameQuick').value.trim();
  const phone = document.getElementById('phoneQuick').value.trim();
  const errEl = document.getElementById('fastQuoteError'); errEl.style.display='none';
  if(!validatePhoneNumber(phone)){ errEl.textContent='Please enter a valid phone number (e.g. 07XXXXXXXX or +947XXXXXXXX).'; errEl.style.display='block'; return; }
  const msg=encodeURIComponent('Fast quote request\nName: '+(name||'Visitor')+'\nPhone: '+phone); window.open('https://wa.me/94757077777?text='+msg,'_blank');
}

// CONTACT FORM: send to owner's WhatsApp
document.getElementById('contactForm').addEventListener('submit', function(e){
  e.preventDefault();
  const name=document.getElementById('cname').value.trim();
  const phone=document.getElementById('cphone').value.trim();
  const email=document.getElementById('cemail').value.trim();
  const message=document.getElementById('cmessage').value.trim();
  const err = document.getElementById('contactError'); err.style.display='none';
  if(!name || !phone){ err.textContent='Please provide your name and phone number.'; err.style.display='block'; return; }
  if(!validatePhoneNumber(phone)){ err.textContent='Please enter a valid phone number (e.g. 07XXXXXXXX or +947XXXXXXXX).'; err.style.display='block'; return; }
  const lines = ['Website enquiry','Name: '+name,'Phone: '+phone,'Email: '+email,'Message: '+message]; const msg=encodeURIComponent(lines.join('\n'));
  window.open('https://wa.me/94757077777?text='+msg,'_blank');
  document.getElementById('contactForm').reset();
});

// Instagram gallery - best-effort
async function populateInstagram(){
  const instaGrid = document.getElementById('instaGrid');
  try{
    const resp = await fetch('https://r.jina.ai/http://instagram.com/nawarathna_cool_engineering/');
    if(!resp.ok) throw new Error('fetch failed');
    const text = await resp.text();
    const urls = Array.from(text.matchAll(/https:\/\/scontent[\w\.\/-]+\.(?:jpg|png)/g)).map(m=>m[0]);
    const unique = [...new Set(urls)].slice(0,8);
    if(unique.length){
      unique.forEach((u, idx)=>{
        const a = document.createElement('a');
        a.href = u; a.target='_blank';
        a.innerHTML = `<img src="${u}" loading="lazy" style="width:100%;height:140px;object-fit:cover;border-radius:8px;border:1px solid var(--border-color)">`;
        a.className = 'reveal reveal-up-small stagger-' + ((idx%4)+1);
        instaGrid.appendChild(a);
      });
      return;
    }
  }catch(err){console.error("Failed to fetch Instagram images:", err);}
  // Fallback if Jina AI or Instagram images fail
  for(let i=0;i<6;i++){ const a=document.createElement('a'); a.href='https://www.instagram.com/nawarathna_cool_engineering/'; a.target='_blank'; a.innerHTML=`<div style="width:100%;height:140px;background:var(--bg-medium);display:grid;place-items:center;border-radius:8px;color:var(--text-muted);font-size:14px;border:1px solid var(--border-color);">Open Instagram</div>`; a.className='reveal reveal-up-small stagger-' + ((i%4)+1); instaGrid.appendChild(a); }
}

(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v16.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

// -------------------------------
// IntersectionObserver: reveal on scroll
// -------------------------------
function initReveal() {
  if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    // If user prefers reduced motion, reveal everything immediately
    document.querySelectorAll('.reveal').forEach(el => el.classList.add('active'));
    return;
  }

  const opts = {
    threshold: 0.12
  };
  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        // Use dataset-delay if present for fine control
        const el = entry.target;
        const delay = el.dataset && el.dataset.delay ? parseFloat(el.dataset.delay) : 0;
        if (delay) el.style.transitionDelay = delay + 's';
        el.classList.add('active');
        // once active, unobserve for performance
        io.unobserve(el);
      }
    });
  }, opts);

  document.querySelectorAll('.reveal').forEach(el => io.observe(el));
}

// initial render + reveal init
renderCart();
populateInstagram();
initReveal();
</script>
</body>
</html>
